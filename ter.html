<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>.TER File Format Information</title>
        <link rel="stylesheet" href="stylesheets/styles.css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="javascripts/respond.js"></script>
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--[if lt IE 8]>
        <link rel="stylesheet" href="stylesheets/ie.css">
        <![endif]-->
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    </head>
    <style type="text/css">
        #hdr { font-size:x-large; font-family: courier new; }
        #flag { font-weight:bold; }
        #hdrcapt { font-size:large; font-family: courier new; }
        #childof { font-size:small; }
        #number { font-weight:bold; color:#FF0000; }
        #string { font-weight:bold; color:#31B404; }
        #other { font-weight:bold; color:#FF8000; }
        #listitem { font-size:small; font-weight:bold }
        #struct { font-weight:bold; color:#BBBBBB; }
        table { border-style:solid; border-width: 2px; }
    </style>
    <body>
        <div id="header">
            <nav>
                <li class="home"><a href="index.html">Home</a></li>
                <li class="navbtn"><a href="#">Back To Top</a></li>
				<li class="navbtn"><a href="#terrainstructs">Structs</a></li>
				<li class="navbtn"><a href="#terrainblocks">Blocks</a></li>
                <li class="navbtn"><a href="#terrainheader">Header</a></li>
            </nav>
        </div>
        <!-- end header -->
        <div class="wrapper">
            <section>
                <div id="title">
                    <h1>.MSH File Format Information</h1>
                    <p></p>
                    <hr>
                    <span class="credits left">Project maintained by <a href="https://Schlechtwetterfront.github.com/">Schlechtwetterfront</a></span>
                    <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
                </div>
                <h3 style="TEXT-ALIGN: center"><a href="#terrainheader">Header</a>
				- <a href="#terrainblocks">Blocks</a>
				- <a href="#terrainstructs">Structs</a></h3>
                <br>
                <h2><a name="generalinfo"></a>General .TER Information</h2>
                Terrain files, with extension *.ter, represent a single 
                terrain to be used by a world.&nbsp; This file format is generated by 
                ZeroEditor, and used during the munge process.<br>The data stored in terrain 
                files is used to create the "tern" chunk within *.lvl files.<br><br><br>
                <h2><a name="changelog"></a>Changelog</h2>
                <ul>
                    <li>Updated layout.
                    </li>
                </ul>
                <h2><a name="terrainheader"></a>Terrain Header</h2>
                The Terrain Header is always 2821 bytes in length.<br><br>
                <table style="TEXT-ALIGN: left; WIDTH: 100%" border="1" cellspacing="0" cellpadding="2">
                    <tbody>
                        <tr>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Data Type<br></td>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Size(bytes)<br></td>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Description<br></td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [4]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Terrain Header Marker (TERR).
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">long int</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">.TER file version number (21 for SWBF, 22 for SWBFII).
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">short int [4]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">8
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Terrain extents.
								<br>Ex: -8, -8, 8, 8 for a 16x16 map.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">long int</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Unknown.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float [16]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">64
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Tile-range for each texture-layer.
								<br>Ex: 0.031 (1/32), the texture spans 32 meters.
								<br>This is stored as 1/X of the value in ZeroEditor.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [16]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">16
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Mapping for each texture-layer.
								<br>0 is normal.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [64]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">64
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Unknown. Possibly 16 floats for texture-layer rotations.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Map scale multiplier.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Grid-scale, distance between points.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">long int</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Unknown.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">long int</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size stored in the .TER file.
								<br>The same or bigger than the map extents.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">1
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Unknown.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="struct">TextureLayer [16]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">1024
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><a href="#texturelayer">Texture layers</a>.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="struct">WaterLayer [16]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">1086
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><a href="#waterlayer">Water layers</a>.
                                <br>
                            </td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [524]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">524
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Unknown.
                                <br>
                            </td>
                        </tr>
                    </tbody>
                </table>
				<br>
				<h2><a name="terrainblocks"></a>Terrain Blocks</h2>
                <br><br>
				<table style="TEXT-ALIGN: left; WIDTH: 100%" border="1" cellspacing="0" cellpadding="2">
                    <tbody>
                        <tr>
						    <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Name<br></td>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Data Type<br></td>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Length<br></td>
                        </tr>
                        <tr>
							<td style="VERTICAL-ALIGN: top"><b>Height</b> 
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><span id="number">signed short</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size * Full map size * 2
                                <br>
                            </td>
						</tr>
						<tr>
							<td/>
							<td colspan="2">
								Height value for every point on the grid. This value will be multiplied with
								the map scale multiplier.
							</td>
						</tr>
						<tr>
							<td style="VERTICAL-ALIGN: top"><b>Color</b> 
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float [4]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size * Full map size
                                <br>
                            </td>
                        </tr>
						<tr>
							<td/>
							<td colspan="2">
								Color values for every point on the grid. 4 floats (from 0.0 to 1.0)
								corresponding to the RGBA channels.
							</td>
						</tr>
						<tr>
							<td style="VERTICAL-ALIGN: top"><b>Color 2</b>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float [4]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size * Full map size
                                <br>
                            </td>
                        </tr>
						<tr>
							<td/>
							<td colspan="2">
								Color values for every point on the grid. 4 floats (from 0.0 to 1.0)
								corresponding to the RGBA channels.
							</td>
						</tr>
						<tr>
							<td style="VERTICAL-ALIGN: top"><b>Texture</b>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [16]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size * Full map size
                                <br>
                            </td>
                        </tr>
						<tr>
							<td/>
							<td colspan="2">
								One byte (0-255) for each texture layer indicating the transparency of its
								texture layer.
							</td>
						</tr>
						<tr>
							<td style="VERTICAL-ALIGN: top"><b>Water</b>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size * Full map size / 2
                                <br>
                            </td>
                        </tr>
						<tr>
							<td/>
							<td colspan="2">
								Structure unknown.
							</td>
						</tr>
						<tr>
							<td style="VERTICAL-ALIGN: top"><b>Foliage</b>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Full map size * Full map size / 2
                                <br>
                            </td>
                        </tr>
						<tr>
							<td/>
							<td colspan="2">
								Structure unknown.
							</td>
						</tr>
                    </tbody>
                </table>
				<br>
				<h2><a name="terrainstructs"></a>Terrain Structs</h2>
                <br>
				<h3><a id="texturelayer"></a>TextureLayer</h3>
				<table style="TEXT-ALIGN: left; WIDTH: 100%" border="1" cellspacing="0" cellpadding="2">
                    <tbody>
                        <tr>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Data Type<br></td>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Size(bytes)<br></td>
							<td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Dscription<br></td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="string">char [32]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">32
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Diffuse texture name.
                                <br>
                            </td>
                        </tr>
						<tr>
                            <td style="VERTICAL-ALIGN: top"><span id="string">char [32]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">32
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Detail texture name.
                                <br>
                            </td>
                        </tr>
                    </tbody>
                </table>
				<br>
				<h3><a id="waterlayer"></a>WaterLayer</h3>
				<table style="TEXT-ALIGN: left; WIDTH: 100%" border="1" cellspacing="0" cellpadding="2">
                    <tbody>
                        <tr>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Data Type<br></td>
                            <td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Size(bytes)<br></td>
							<td style="VERTICAL-ALIGN: top; FONT-WEIGHT: bold">Dscription<br></td>
                        </tr>
                        <tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float [2]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">8
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Water height value (twice).
                                <br>
                            </td>
                        </tr>
						<tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [8]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">8
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Unknown, always zero.
                                <br>
                            </td>
                        </tr>
						<tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float [2]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">8
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">UV animation velocity.
                                <br>
                            </td>
                        </tr>
						<tr>
                            <td style="VERTICAL-ALIGN: top"><span id="number">float [2]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">8
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">UV animation repeat.
                                <br>
                            </td>
                        </tr>
						<tr>
                            <td style="VERTICAL-ALIGN: top"><span id="other">byte [4]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">4
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">RGBA color values.
                                <br>
                            </td>
                        </tr>
						<tr>
                            <td style="VERTICAL-ALIGN: top"><span id="string">char [32]</span>
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">32
                                <br>
                            </td>
                            <td style="VERTICAL-ALIGN: top">Water texture name.
                                <br>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
        <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    </body>
</html>